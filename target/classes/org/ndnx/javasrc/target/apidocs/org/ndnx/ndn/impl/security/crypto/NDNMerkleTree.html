<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_65) on Wed Dec 11 15:59:51 JST 2013 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
NDNMerkleTree (Project NDNx javalib 0.7.2-SNAPSHOT API)
</TITLE>

<META NAME="date" CONTENT="2013-12-11">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="NDNMerkleTree (Project NDNx javalib 0.7.2-SNAPSHOT API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/NDNMerkleTree.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/NDNDigestHelper.html" title="class in org.ndnx.ndn.impl.security.crypto"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/NDNMerkleTreeSigner.html" title="class in org.ndnx.ndn.impl.security.crypto"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?org/ndnx/ndn/impl/security/crypto/NDNMerkleTree.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="NDNMerkleTree.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.ndnx.ndn.impl.security.crypto</FONT>
<BR>
Class NDNMerkleTree</H2>
<PRE>
<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html" title="class in org.ndnx.ndn.impl.security.crypto">org.ndnx.ndn.impl.security.crypto.MerkleTree</A>
      <IMG SRC="../../../../../../resources/inherit.gif" ALT="extended by "><B>org.ndnx.ndn.impl.security.crypto.NDNMerkleTree</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>NDNMerkleTree</B><DT>extends <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html" title="class in org.ndnx.ndn.impl.security.crypto">MerkleTree</A></DL>
</PRE>

<P>
Extends the basic MerkleTree for use in NDN.
 It incorporates the NDN ContentName for an object at each node, so that
 names are authenticated as well as content in a
 way that intermediary NDN nodes can verify.
 
 For each leaf node in the NDNMerkleTree, we compute its
 digest in exactly the same way we would compute the digest of a ContentObject
 node for signing on its own (incorporating the name, authentication metadata,
 and content). We then combine all these leaf digests together into a MerkleTree,
 and sign the root node.
 
 To generate a leaf block digest, therefore, we need to know
 - the content of the block
 - the name for the block (which, for segmented content, includes the segmented
           number. If we're buffering content and building trees per buffer, the
           fragment numbers may carry across buffers (e.g. leaf 0 of this tree might
     be fragment 37 of the content as a whole)
     
 - the authentication metadata. In the case of fragmented content, this is
     likely to be the same for all blocks. In the case of other content, the
     publisher is likely to be the same, but the timestamp and even maybe the
     type could be different -- i.e. you could use a NDNMerkleTree to amortize
     signature costs over any collection of data, not just a set of fragments.
     
 So, we either need to hand in all the names, or have a function to call to get
 the name for each block.
 
 Note: There is no requirement that a NDNMerkleTree be built only from the segments
     of a single piece of content, although that is the most common use. One
     can build and verify a NDNMerkleTree built out of an arbitrary set of
     ContentObjects; this may be a useful way of limiting the number of
     signatures generated on constrained platforms. Eventually the NDNSegmenter
     will be extended to handle such collections of arbitrary objects.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/NDNMerkleTree.html#DEFAULT_MHT_ALGORITHM">DEFAULT_MHT_ALGORITHM</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.ndnx.ndn.impl.security.crypto.MerkleTree"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class org.ndnx.ndn.impl.security.crypto.<A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html" title="class in org.ndnx.ndn.impl.security.crypto">MerkleTree</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#_digestAlgorithm">_digestAlgorithm</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#_numLeaves">_numLeaves</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#_tree">_tree</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#MERKLE_OID_PREFIX">MERKLE_OID_PREFIX</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#ROOT_NODE">ROOT_NODE</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/NDNMerkleTree.html#NDNMerkleTree(org.ndnx.ndn.protocol.ContentObject[], java.security.Key)">NDNMerkleTree</A></B>(<A HREF="../../../../../../org/ndnx/ndn/protocol/ContentObject.html" title="class in org.ndnx.ndn.protocol">ContentObject</A>[]&nbsp;contentObjects,
              <A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/Key.html?is-external=true" title="class or interface in java.security">Key</A>&nbsp;signingKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Build a NDNMerkleTree from a set of leaf ContentObjects.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/NDNMerkleTree.html#computeLeafValues(org.ndnx.ndn.protocol.ContentObject[])">computeLeafValues</A></B>(<A HREF="../../../../../../org/ndnx/ndn/protocol/ContentObject.html" title="class in org.ndnx.ndn.protocol">ContentObject</A>[]&nbsp;contentObjects)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Compute the leaf values of the ContentObjects in this tree</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/NDNMerkleTree.html#computeRootSignature(byte[], java.security.Key)">computeRootSignature</A></B>(byte[]&nbsp;root,
                     <A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/Key.html?is-external=true" title="class or interface in java.security">Key</A>&nbsp;signingKey)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Compute the signature on the root node.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../../org/ndnx/ndn/protocol/Signature.html" title="class in org.ndnx.ndn.protocol">Signature</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/NDNMerkleTree.html#computeSignature(int)">computeSignature</A></B>(int&nbsp;leafIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct the Signature for a given leaf.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/NDNMerkleTree.html#initializeTree(org.ndnx.ndn.protocol.ContentObject[])">initializeTree</A></B>(<A HREF="../../../../../../org/ndnx/ndn/protocol/ContentObject.html" title="class in org.ndnx.ndn.protocol">ContentObject</A>[]&nbsp;contentObjects)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A version of initializeTree to go with the NDNMerkleTree(ContentObject []) constructor.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;byte[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/NDNMerkleTree.html#rootSignature()">rootSignature</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the root signature on the tree.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/ndnx/ndn/protocol/ContentName.html" title="class in org.ndnx.ndn.protocol">ContentName</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/NDNMerkleTree.html#segmentName(int)">segmentName</A></B>(int&nbsp;leafIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate the name of segment leafIndex, where leafIndex is the leaf number in this
 tree.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/ndnx/ndn/protocol/Signature.html" title="class in org.ndnx.ndn.protocol">Signature</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/NDNMerkleTree.html#segmentSignature(int)">segmentSignature</A></B>(int&nbsp;leafIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the signature for a particular segment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/ndnx/ndn/protocol/SignedInfo.html" title="class in org.ndnx.ndn.protocol">SignedInfo</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/NDNMerkleTree.html#segmentSignedInfo(int)">segmentSignedInfo</A></B>(int&nbsp;leafIndex)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the SignedInfo for a given segment.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/NDNMerkleTree.html#setSignatures()">setSignatures</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the signatures of all the contained ContentObjects.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.ndnx.ndn.impl.security.crypto.MerkleTree"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.ndnx.ndn.impl.security.crypto.<A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html" title="class in org.ndnx.ndn.impl.security.crypto">MerkleTree</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#blockCount(int, int)">blockCount</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#computeBlockDigest(byte[])">computeBlockDigest</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#computeBlockDigest(int, byte[][], int, int)">computeBlockDigest</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#computeBlockDigest(int, byte[], int, int)">computeBlockDigest</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#computeBlockDigest(java.lang.String, byte[])">computeBlockDigest</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#computeBlockDigest(java.lang.String, byte[], int, int)">computeBlockDigest</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#computeLeafValues(byte[][], boolean, int, int)">computeLeafValues</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#computeLeafValues(byte[], int, int, int)">computeLeafValues</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#computeNodeDigest(byte[], byte[])">computeNodeDigest</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#computeNodeDigest(java.lang.String, byte[], byte[])">computeNodeDigest</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#computeNodeValues()">computeNodeValues</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#derGet(int)">derGet</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#derRoot()">derRoot</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#digestAlgorithm()">digestAlgorithm</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#firstLeaf()">firstLeaf</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#get(int)">get</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#getNodeIndex(org.bouncycastle.asn1.DEROctetString)">getNodeIndex</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#getRootAsEncodedDigest()">getRootAsEncodedDigest</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#initializeTree(byte[][], boolean, int, int)">initializeTree</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#initializeTree(byte[], int, int, int)">initializeTree</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#isLeft(int)">isLeft</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#isMerkleTree(org.bouncycastle.asn1.x509.AlgorithmIdentifier)">isMerkleTree</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#isRight(int)">isRight</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#leaf(int)">leaf</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#leafNodeIndex(int)">leafNodeIndex</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#leftChild(int)">leftChild</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#log2(int)">log2</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#maxDepth()">maxDepth</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#maxDepth(int)">maxDepth</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#maxPathLength(int)">maxPathLength</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#nodeCount()">nodeCount</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#nodeCount(int)">nodeCount</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#numLeaves()">numLeaves</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#parent(int)">parent</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#path(int)">path</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#rightChild(int)">rightChild</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#root()">root</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#sibling(int)">sibling</A>, <A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/MerkleTree.html#size()">size</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="DEFAULT_MHT_ALGORITHM"><!-- --></A><H3>
DEFAULT_MHT_ALGORITHM</H3>
<PRE>
public static final <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <B>DEFAULT_MHT_ALGORITHM</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../constant-values.html#org.ndnx.ndn.impl.security.crypto.NDNMerkleTree.DEFAULT_MHT_ALGORITHM">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="NDNMerkleTree(org.ndnx.ndn.protocol.ContentObject[], java.security.Key)"><!-- --></A><H3>
NDNMerkleTree</H3>
<PRE>
public <B>NDNMerkleTree</B>(<A HREF="../../../../../../org/ndnx/ndn/protocol/ContentObject.html" title="class in org.ndnx.ndn.protocol">ContentObject</A>[]&nbsp;contentObjects,
                     <A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/Key.html?is-external=true" title="class or interface in java.security">Key</A>&nbsp;signingKey)
              throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</A>,
                     <A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/InvalidKeyException.html?is-external=true" title="class or interface in java.security">InvalidKeyException</A>,
                     <A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/SignatureException.html?is-external=true" title="class or interface in java.security">SignatureException</A></PRE>
<DL>
<DD>Build a NDNMerkleTree from a set of leaf ContentObjects.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>contentObjects</CODE> - must be at least 2 blocks, or will throw IllegalArgumentException.<DD><CODE>signingKey</CODE> - key to sign the root with
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</A></CODE> - if key or DEFAULT_DIGEST_ALGORITHM are unknown
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/InvalidKeyException.html?is-external=true" title="class or interface in java.security">InvalidKeyException</A></CODE> - if signingKey is invalid
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/SignatureException.html?is-external=true" title="class or interface in java.security">SignatureException</A></CODE> - if we cannot sign</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="rootSignature()"><!-- --></A><H3>
rootSignature</H3>
<PRE>
public byte[] <B>rootSignature</B>()</PRE>
<DL>
<DD>Returns the root signature on the tree.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the root signature</DL>
</DD>
</DL>
<HR>

<A NAME="segmentName(int)"><!-- --></A><H3>
segmentName</H3>
<PRE>
public <A HREF="../../../../../../org/ndnx/ndn/protocol/ContentName.html" title="class in org.ndnx.ndn.protocol">ContentName</A> <B>segmentName</B>(int&nbsp;leafIndex)</PRE>
<DL>
<DD>Generate the name of segment leafIndex, where leafIndex is the leaf number in this
 tree. The overall index of leafIndex should be leafIndex + baseNameIndex().
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>leafIndex</CODE> - the leaf whose blockName to generate
<DT><B>Returns:</B><DD>the name</DL>
</DD>
</DL>
<HR>

<A NAME="segmentSignedInfo(int)"><!-- --></A><H3>
segmentSignedInfo</H3>
<PRE>
public <A HREF="../../../../../../org/ndnx/ndn/protocol/SignedInfo.html" title="class in org.ndnx.ndn.protocol">SignedInfo</A> <B>segmentSignedInfo</B>(int&nbsp;leafIndex)</PRE>
<DL>
<DD>Return the SignedInfo for a given segment.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>leafIndex</CODE> - the index of the leaf whose SignedInfo we want
<DT><B>Returns:</B><DD>the SignedInfo</DL>
</DD>
</DL>
<HR>

<A NAME="segmentSignature(int)"><!-- --></A><H3>
segmentSignature</H3>
<PRE>
public <A HREF="../../../../../../org/ndnx/ndn/protocol/Signature.html" title="class in org.ndnx.ndn.protocol">Signature</A> <B>segmentSignature</B>(int&nbsp;leafIndex)</PRE>
<DL>
<DD>Set the signature for a particular segment.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>leafIndex</CODE> - the leaf segment to set the signature for
<DT><B>Returns:</B><DD>the Signature</DL>
</DD>
</DL>
<HR>

<A NAME="setSignatures()"><!-- --></A><H3>
setSignatures</H3>
<PRE>
public void <B>setSignatures</B>()</PRE>
<DL>
<DD>Sets the signatures of all the contained ContentObjects.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="initializeTree(org.ndnx.ndn.protocol.ContentObject[])"><!-- --></A><H3>
initializeTree</H3>
<PRE>
protected void <B>initializeTree</B>(<A HREF="../../../../../../org/ndnx/ndn/protocol/ContentObject.html" title="class in org.ndnx.ndn.protocol">ContentObject</A>[]&nbsp;contentObjects)
                       throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</A></PRE>
<DL>
<DD>A version of initializeTree to go with the NDNMerkleTree(ContentObject []) constructor.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>contentObjects</CODE> - objects to build into the tree
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</A></CODE> - if the default digest algorithm unknown</DL>
</DD>
</DL>
<HR>

<A NAME="computeSignature(int)"><!-- --></A><H3>
computeSignature</H3>
<PRE>
protected <A HREF="../../../../../../org/ndnx/ndn/protocol/Signature.html" title="class in org.ndnx.ndn.protocol">Signature</A> <B>computeSignature</B>(int&nbsp;leafIndex)</PRE>
<DL>
<DD>Construct the Signature for a given leaf. This is composed of the rootSignature(),
 which is the same for all nodes, and the DER encoded MerklePath for this leaf as the
 witness.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>leafIndex</CODE> - the leaf to compute the signature for
<DT><B>Returns:</B><DD>the signature</DL>
</DD>
</DL>
<HR>

<A NAME="computeRootSignature(byte[], java.security.Key)"><!-- --></A><H3>
computeRootSignature</H3>
<PRE>
protected static byte[] <B>computeRootSignature</B>(byte[]&nbsp;root,
                                             <A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/Key.html?is-external=true" title="class or interface in java.security">Key</A>&nbsp;signingKey)
                                      throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/InvalidKeyException.html?is-external=true" title="class or interface in java.security">InvalidKeyException</A>,
                                             <A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/SignatureException.html?is-external=true" title="class or interface in java.security">SignatureException</A>,
                                             <A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</A></PRE>
<DL>
<DD>Compute the signature on the root node. It's already a digest, so in
 theory we could just wrap it up in some PKCS#1 padding, encrypt it
 with our private key, and voila! A signature. But there are basically
 no crypto software packages that provide signature primitives that take
 already-digested data and just do the padding and encryption, and so we'd
 be asking anyone attempting to implement NDN MHT signing (including ourselves)
 to re-implement a very complicated wheel, across a number of signature algorithms.
 We might also want to sign with a key that does not support the digest algorithm
 we used to compute the root (for example, DSA).
 So take the computationally very slightly more expensive, but vastly simpler
 (implementation-wise) approach of taking our digest and signing it with
 a standard signing API -- which means digesting it one more time for the
 signature. So we sign (digest + encrypt) the root digest.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>root</CODE> - the root digest to sign<DD><CODE>signingKey</CODE> - the key to sign with
<DT><B>Returns:</B><DD>the bytes of the signature
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/InvalidKeyException.html?is-external=true" title="class or interface in java.security">InvalidKeyException</A></CODE>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/SignatureException.html?is-external=true" title="class or interface in java.security">SignatureException</A></CODE>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="computeLeafValues(org.ndnx.ndn.protocol.ContentObject[])"><!-- --></A><H3>
computeLeafValues</H3>
<PRE>
protected void <B>computeLeafValues</B>(<A HREF="../../../../../../org/ndnx/ndn/protocol/ContentObject.html" title="class in org.ndnx.ndn.protocol">ContentObject</A>[]&nbsp;contentObjects)
                          throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</A></PRE>
<DL>
<DD>Compute the leaf values of the ContentObjects in this tree
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>contentObjects</CODE> - the content
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/security/NoSuchAlgorithmException.html?is-external=true" title="class or interface in java.security">NoSuchAlgorithmException</A></CODE> - if the digestAlgorithm unknown</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/NDNMerkleTree.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/NDNDigestHelper.html" title="class in org.ndnx.ndn.impl.security.crypto"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../org/ndnx/ndn/impl/security/crypto/NDNMerkleTreeSigner.html" title="class in org.ndnx.ndn.impl.security.crypto"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html?org/ndnx/ndn/impl/security/crypto/NDNMerkleTree.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="NDNMerkleTree.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2013. All Rights Reserved.
</BODY>
</HTML>
