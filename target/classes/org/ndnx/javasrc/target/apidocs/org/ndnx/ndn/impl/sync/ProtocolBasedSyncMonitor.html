<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_65) on Wed Dec 11 15:59:52 JST 2013 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
ProtocolBasedSyncMonitor (Project NDNx javalib 0.7.2-SNAPSHOT API)
</TITLE>

<META NAME="date" CONTENT="2013-12-11">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ProtocolBasedSyncMonitor (Project NDNx javalib 0.7.2-SNAPSHOT API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ProtocolBasedSyncMonitor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/ndnx/ndn/impl/sync/NodeBuilder.NodeCommon.html" title="class in org.ndnx.ndn.impl.sync"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/ndnx/ndn/impl/sync/SliceComparator.html" title="class in org.ndnx.ndn.impl.sync"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/ndnx/ndn/impl/sync/ProtocolBasedSyncMonitor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ProtocolBasedSyncMonitor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.ndnx.ndn.impl.sync</FONT>
<BR>
Class ProtocolBasedSyncMonitor</H2>
<PRE>
<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncMonitor.html" title="class in org.ndnx.ndn.impl.sync">org.ndnx.ndn.impl.sync.SyncMonitor</A>
      <IMG SRC="../../../../../resources/inherit.gif" ALT="extended by "><B>org.ndnx.ndn.impl.sync.ProtocolBasedSyncMonitor</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../../org/ndnx/ndn/NDNContentHandler.html" title="interface in org.ndnx.ndn">NDNContentHandler</A>, <A HREF="../../../../../org/ndnx/ndn/NDNInterestHandler.html" title="interface in org.ndnx.ndn">NDNInterestHandler</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>ProtocolBasedSyncMonitor</B><DT>extends <A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncMonitor.html" title="class in org.ndnx.ndn.impl.sync">SyncMonitor</A><DT>implements <A HREF="../../../../../org/ndnx/ndn/NDNContentHandler.html" title="interface in org.ndnx.ndn">NDNContentHandler</A>, <A HREF="../../../../../org/ndnx/ndn/NDNInterestHandler.html" title="interface in org.ndnx.ndn">NDNInterestHandler</A></DL>
</PRE>

<P>
Snoops on the sync protocol to report new files seen by sync on a slice to a registered handler
 To do this we use "comparators" which compare a sync tree of "what we already have" to a sync tree
 from sync (@see <A HREF="../../../../../org/ndnx/ndn/impl/sync/SliceComparator.html" title="class in org.ndnx.ndn.impl.sync"><CODE>SliceComparator</CODE></A>). We can have multiple monitors on the same slice and initially
 these will each need their own comparator since the starting point of what we will monitor depends on
 user parameters. However once we have completed an initial round of comparison on a slice, we will have
 created a tree of "what we have" which will be the same for every comparator, and since all input from
 sync will also be identical, we could end up with multiple comparators all doing exactly the same thing.
 To avoid this, we introduce the "ComparatorGroup" which is per slice and contains a "lead comparator" and
 other "active comparators". The first comparator created on a slice becomes the "lead comparator" and
 subsequent ones are added to the active comparators. After a comparator which is not a lead comparator has
 completed its first round, its callback is added to the lead comparators callbacks and that comparator
 becomes deactivated. Except in the case noted below, this takes place within the comparator since it
 alone knows when it has completed a round.
 
 Note also that all comparators can share the same node data but must keep their own version of where they
 are in the treewalk through the data. Node data is shared in _snc below.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../org/ndnx/ndn/NDNHandle.html" title="class in org.ndnx.ndn">NDNHandle</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/ndnx/ndn/impl/sync/ProtocolBasedSyncMonitor.html#_handle">_handle</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</A>&lt;<A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncHashEntry.html" title="class in org.ndnx.ndn.impl.sync">SyncHashEntry</A>,org.ndnx.ndn.impl.sync.ProtocolBasedSyncMonitor.SliceData&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/ndnx/ndn/impl/sync/ProtocolBasedSyncMonitor.html#_sliceData">_sliceData</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.ndnx.ndn.impl.sync.SyncMonitor"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class org.ndnx.ndn.impl.sync.<A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncMonitor.html" title="class in org.ndnx.ndn.impl.sync">SyncMonitor</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncMonitor.html#callbacks">callbacks</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../org/ndnx/ndn/impl/sync/ProtocolBasedSyncMonitor.html#ProtocolBasedSyncMonitor(org.ndnx.ndn.NDNHandle)">ProtocolBasedSyncMonitor</A></B>(<A HREF="../../../../../org/ndnx/ndn/NDNHandle.html" title="class in org.ndnx.ndn">NDNHandle</A>&nbsp;handle)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncNodeCache.html" title="class in org.ndnx.ndn.impl.sync">SyncNodeCache</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/ndnx/ndn/impl/sync/ProtocolBasedSyncMonitor.html#getNodeCache(org.ndnx.ndn.io.content.ConfigSlice)">getNodeCache</A></B>(<A HREF="../../../../../org/ndnx/ndn/io/content/ConfigSlice.html" title="class in org.ndnx.ndn.io.content">ConfigSlice</A>&nbsp;slice)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the node cache for this slice</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../org/ndnx/ndn/protocol/Interest.html" title="class in org.ndnx.ndn.protocol">Interest</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/ndnx/ndn/impl/sync/ProtocolBasedSyncMonitor.html#handleContent(org.ndnx.ndn.protocol.ContentObject, org.ndnx.ndn.protocol.Interest)">handleContent</A></B>(<A HREF="../../../../../org/ndnx/ndn/protocol/ContentObject.html" title="class in org.ndnx.ndn.protocol">ContentObject</A>&nbsp;data,
              <A HREF="../../../../../org/ndnx/ndn/protocol/Interest.html" title="class in org.ndnx.ndn.protocol">Interest</A>&nbsp;interest)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Start sync hash compare process after receiving content back from the
 original root advise interest.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/ndnx/ndn/impl/sync/ProtocolBasedSyncMonitor.html#handleInterest(org.ndnx.ndn.protocol.Interest)">handleInterest</A></B>(<A HREF="../../../../../org/ndnx/ndn/protocol/Interest.html" title="class in org.ndnx.ndn.protocol">Interest</A>&nbsp;interest)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We have seen a new hash.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/ndnx/ndn/impl/sync/ProtocolBasedSyncMonitor.html#registerCallback(org.ndnx.ndn.NDNSyncHandler, org.ndnx.ndn.io.content.ConfigSlice, byte[], org.ndnx.ndn.protocol.ContentName)">registerCallback</A></B>(<A HREF="../../../../../org/ndnx/ndn/NDNSyncHandler.html" title="interface in org.ndnx.ndn">NDNSyncHandler</A>&nbsp;syncHandler,
                 <A HREF="../../../../../org/ndnx/ndn/io/content/ConfigSlice.html" title="class in org.ndnx.ndn.io.content">ConfigSlice</A>&nbsp;slice,
                 byte[]&nbsp;startHash,
                 <A HREF="../../../../../org/ndnx/ndn/protocol/ContentName.html" title="class in org.ndnx.ndn.protocol">ContentName</A>&nbsp;startName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Register callback and output a root advise interest to start the process of looking at sync
 hashes to find new files.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/ndnx/ndn/impl/sync/ProtocolBasedSyncMonitor.html#removeCallback(org.ndnx.ndn.NDNSyncHandler, org.ndnx.ndn.io.content.ConfigSlice)">removeCallback</A></B>(<A HREF="../../../../../org/ndnx/ndn/NDNSyncHandler.html" title="interface in org.ndnx.ndn">NDNSyncHandler</A>&nbsp;syncHandler,
               <A HREF="../../../../../org/ndnx/ndn/io/content/ConfigSlice.html" title="class in org.ndnx.ndn.io.content">ConfigSlice</A>&nbsp;slice)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We don't want to shutdown just because there are no more callbacks because if someone asks
 for a new sync starting at the current hash, having something running is the best way to
 find the current hash.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/ndnx/ndn/impl/sync/ProtocolBasedSyncMonitor.html#requestNode(org.ndnx.ndn.io.content.ConfigSlice, byte[], org.ndnx.ndn.NDNHandle, org.ndnx.ndn.NDNContentHandler)">requestNode</A></B>(<A HREF="../../../../../org/ndnx/ndn/io/content/ConfigSlice.html" title="class in org.ndnx.ndn.io.content">ConfigSlice</A>&nbsp;slice,
            byte[]&nbsp;hash,
            <A HREF="../../../../../org/ndnx/ndn/NDNHandle.html" title="class in org.ndnx.ndn">NDNHandle</A>&nbsp;handle,
            <A HREF="../../../../../org/ndnx/ndn/NDNContentHandler.html" title="interface in org.ndnx.ndn">NDNContentHandler</A>&nbsp;handler)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Output interest to request a node</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../org/ndnx/ndn/impl/sync/ProtocolBasedSyncMonitor.html#shutdown(org.ndnx.ndn.io.content.ConfigSlice)">shutdown</A></B>(<A HREF="../../../../../org/ndnx/ndn/io/content/ConfigSlice.html" title="class in org.ndnx.ndn.io.content">ConfigSlice</A>&nbsp;slice)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shutdown all sync watching for this slice</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.ndnx.ndn.impl.sync.SyncMonitor"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.ndnx.ndn.impl.sync.<A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncMonitor.html" title="class in org.ndnx.ndn.impl.sync">SyncMonitor</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncMonitor.html#registerCallbackInternal(org.ndnx.ndn.NDNSyncHandler, org.ndnx.ndn.io.content.ConfigSlice)">registerCallbackInternal</A>, <A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncMonitor.html#removeCallbackInternal(org.ndnx.ndn.NDNSyncHandler, org.ndnx.ndn.io.content.ConfigSlice)">removeCallbackInternal</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://docs.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="_handle"><!-- --></A><H3>
_handle</H3>
<PRE>
protected <A HREF="../../../../../org/ndnx/ndn/NDNHandle.html" title="class in org.ndnx.ndn">NDNHandle</A> <B>_handle</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="_sliceData"><!-- --></A><H3>
_sliceData</H3>
<PRE>
protected <A HREF="http://docs.oracle.com/javase/6/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</A>&lt;<A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncHashEntry.html" title="class in org.ndnx.ndn.impl.sync">SyncHashEntry</A>,org.ndnx.ndn.impl.sync.ProtocolBasedSyncMonitor.SliceData&gt; <B>_sliceData</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ProtocolBasedSyncMonitor(org.ndnx.ndn.NDNHandle)"><!-- --></A><H3>
ProtocolBasedSyncMonitor</H3>
<PRE>
public <B>ProtocolBasedSyncMonitor</B>(<A HREF="../../../../../org/ndnx/ndn/NDNHandle.html" title="class in org.ndnx.ndn">NDNHandle</A>&nbsp;handle)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="registerCallback(org.ndnx.ndn.NDNSyncHandler, org.ndnx.ndn.io.content.ConfigSlice, byte[], org.ndnx.ndn.protocol.ContentName)"><!-- --></A><H3>
registerCallback</H3>
<PRE>
public void <B>registerCallback</B>(<A HREF="../../../../../org/ndnx/ndn/NDNSyncHandler.html" title="interface in org.ndnx.ndn">NDNSyncHandler</A>&nbsp;syncHandler,
                             <A HREF="../../../../../org/ndnx/ndn/io/content/ConfigSlice.html" title="class in org.ndnx.ndn.io.content">ConfigSlice</A>&nbsp;slice,
                             byte[]&nbsp;startHash,
                             <A HREF="../../../../../org/ndnx/ndn/protocol/ContentName.html" title="class in org.ndnx.ndn.protocol">ContentName</A>&nbsp;startName)
                      throws <A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Register callback and output a root advise interest to start the process of looking at sync
 hashes to find new files. We also start looking at interests for root advises on this slice
 which are used to notice new hashes coming through which may contain unseen files.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncMonitor.html#registerCallback(org.ndnx.ndn.NDNSyncHandler, org.ndnx.ndn.io.content.ConfigSlice, byte[], org.ndnx.ndn.protocol.ContentName)">registerCallback</A></CODE> in class <CODE><A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncMonitor.html" title="class in org.ndnx.ndn.impl.sync">SyncMonitor</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="removeCallback(org.ndnx.ndn.NDNSyncHandler, org.ndnx.ndn.io.content.ConfigSlice)"><!-- --></A><H3>
removeCallback</H3>
<PRE>
public void <B>removeCallback</B>(<A HREF="../../../../../org/ndnx/ndn/NDNSyncHandler.html" title="interface in org.ndnx.ndn">NDNSyncHandler</A>&nbsp;syncHandler,
                           <A HREF="../../../../../org/ndnx/ndn/io/content/ConfigSlice.html" title="class in org.ndnx.ndn.io.content">ConfigSlice</A>&nbsp;slice)</PRE>
<DL>
<DD>We don't want to shutdown just because there are no more callbacks because if someone asks
 for a new sync starting at the current hash, having something running is the best way to
 find the current hash. If someone wants to shutdown, they should explicitly ask for it.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncMonitor.html#removeCallback(org.ndnx.ndn.NDNSyncHandler, org.ndnx.ndn.io.content.ConfigSlice)">removeCallback</A></CODE> in class <CODE><A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncMonitor.html" title="class in org.ndnx.ndn.impl.sync">SyncMonitor</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="shutdown(org.ndnx.ndn.io.content.ConfigSlice)"><!-- --></A><H3>
shutdown</H3>
<PRE>
public void <B>shutdown</B>(<A HREF="../../../../../org/ndnx/ndn/io/content/ConfigSlice.html" title="class in org.ndnx.ndn.io.content">ConfigSlice</A>&nbsp;slice)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncMonitor.html#shutdown(org.ndnx.ndn.io.content.ConfigSlice)">SyncMonitor</A></CODE></B></DD>
<DD>Shutdown all sync watching for this slice
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncMonitor.html#shutdown(org.ndnx.ndn.io.content.ConfigSlice)">shutdown</A></CODE> in class <CODE><A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncMonitor.html" title="class in org.ndnx.ndn.impl.sync">SyncMonitor</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="requestNode(org.ndnx.ndn.io.content.ConfigSlice, byte[], org.ndnx.ndn.NDNHandle, org.ndnx.ndn.NDNContentHandler)"><!-- --></A><H3>
requestNode</H3>
<PRE>
public static boolean <B>requestNode</B>(<A HREF="../../../../../org/ndnx/ndn/io/content/ConfigSlice.html" title="class in org.ndnx.ndn.io.content">ConfigSlice</A>&nbsp;slice,
                                  byte[]&nbsp;hash,
                                  <A HREF="../../../../../org/ndnx/ndn/NDNHandle.html" title="class in org.ndnx.ndn">NDNHandle</A>&nbsp;handle,
                                  <A HREF="../../../../../org/ndnx/ndn/NDNContentHandler.html" title="interface in org.ndnx.ndn">NDNContentHandler</A>&nbsp;handler)
                           throws <A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncException.html" title="class in org.ndnx.ndn.impl.sync">SyncException</A></PRE>
<DL>
<DD>Output interest to request a node
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>hash</CODE> - 
<DT><B>Returns:</B><DD>
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://docs.oracle.com/javase/6/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE>
<DD><CODE><A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncException.html" title="class in org.ndnx.ndn.impl.sync">SyncException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="handleContent(org.ndnx.ndn.protocol.ContentObject, org.ndnx.ndn.protocol.Interest)"><!-- --></A><H3>
handleContent</H3>
<PRE>
public <A HREF="../../../../../org/ndnx/ndn/protocol/Interest.html" title="class in org.ndnx.ndn.protocol">Interest</A> <B>handleContent</B>(<A HREF="../../../../../org/ndnx/ndn/protocol/ContentObject.html" title="class in org.ndnx.ndn.protocol">ContentObject</A>&nbsp;data,
                              <A HREF="../../../../../org/ndnx/ndn/protocol/Interest.html" title="class in org.ndnx.ndn.protocol">Interest</A>&nbsp;interest)</PRE>
<DL>
<DD>Start sync hash compare process after receiving content back from the
 original root advise interest.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/ndnx/ndn/NDNContentHandler.html#handleContent(org.ndnx.ndn.protocol.ContentObject, org.ndnx.ndn.protocol.Interest)">handleContent</A></CODE> in interface <CODE><A HREF="../../../../../org/ndnx/ndn/NDNContentHandler.html" title="interface in org.ndnx.ndn">NDNContentHandler</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>data</CODE> - the ContentObject that matched our Interest<DD><CODE>interest</CODE> - Interest that was satisfied
<DT><B>Returns:</B><DD>new Interest to be expressed</DL>
</DD>
</DL>
<HR>

<A NAME="handleInterest(org.ndnx.ndn.protocol.Interest)"><!-- --></A><H3>
handleInterest</H3>
<PRE>
public boolean <B>handleInterest</B>(<A HREF="../../../../../org/ndnx/ndn/protocol/Interest.html" title="class in org.ndnx.ndn.protocol">Interest</A>&nbsp;interest)</PRE>
<DL>
<DD>We have seen a new hash. Feed it into the compare process to discover possible new
 unseen files.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/ndnx/ndn/NDNInterestHandler.html#handleInterest(org.ndnx.ndn.protocol.Interest)">handleInterest</A></CODE> in interface <CODE><A HREF="../../../../../org/ndnx/ndn/NDNInterestHandler.html" title="interface in org.ndnx.ndn">NDNInterestHandler</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>true if this handler has consumed the interest 
        (that is the handler returned data satisfying the interest).</DL>
</DD>
</DL>
<HR>

<A NAME="getNodeCache(org.ndnx.ndn.io.content.ConfigSlice)"><!-- --></A><H3>
getNodeCache</H3>
<PRE>
public <A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncNodeCache.html" title="class in org.ndnx.ndn.impl.sync">SyncNodeCache</A> <B>getNodeCache</B>(<A HREF="../../../../../org/ndnx/ndn/io/content/ConfigSlice.html" title="class in org.ndnx.ndn.io.content">ConfigSlice</A>&nbsp;slice)</PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncMonitor.html#getNodeCache(org.ndnx.ndn.io.content.ConfigSlice)">SyncMonitor</A></CODE></B></DD>
<DD>Get the node cache for this slice
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncMonitor.html#getNodeCache(org.ndnx.ndn.io.content.ConfigSlice)">getNodeCache</A></CODE> in class <CODE><A HREF="../../../../../org/ndnx/ndn/impl/sync/SyncMonitor.html" title="class in org.ndnx.ndn.impl.sync">SyncMonitor</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ProtocolBasedSyncMonitor.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../org/ndnx/ndn/impl/sync/NodeBuilder.NodeCommon.html" title="class in org.ndnx.ndn.impl.sync"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../../org/ndnx/ndn/impl/sync/SliceComparator.html" title="class in org.ndnx.ndn.impl.sync"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?org/ndnx/ndn/impl/sync/ProtocolBasedSyncMonitor.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ProtocolBasedSyncMonitor.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2013. All Rights Reserved.
</BODY>
</HTML>
